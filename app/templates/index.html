<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Facial Emotion Recognition</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>

<body>
    <div class="container">
        <h1>Facial Emotion Recognition during Banking Interactions</h1>

        <!-- Upload Section -->
        <div class="upload-section">
            <h2>Upload Video</h2>
            <input type="file" id="videoFile" accept="video/*">
            <button onclick="uploadVideo()">Upload Video</button>
            <label for="frameInterval">Frame Interval:</label>
            <input type="number" id="frameInterval" value="40" min="1">
        </div>

        <!-- Video Preview Section -->
        <div class="video-section">
            <h2>Video Preview</h2>
            <video id="webcamPreview" autoplay></video>
            <video id="videoPlayer" controls style="display: none;"></video>
            <button onclick="saveFrame()">Save Frame for Generative AI</button>
        </div>

        <!-- Generate Statistics and Story Section -->
        <div class="stats-story-section">
            <h2>Generate Statistics and Story</h2>
            <button onclick="generateStatistics()">Generate Statistics</button>
            <div id="statsOutput"></div>
            <div id="storyOutput"></div>
            <div id="loader" class="spinner" style="display: none;"></div>
        </div>

        <!-- Generative AI Section -->
        <div class="generative-ai-section">
            <h2>Hugging Face Login</h2>
            <input type="text" id="hfToken" placeholder="Enter Hugging Face Token">
            <button onclick="loginHuggingFace()">Login</button>

            <h2>Generative AI</h2>
            <!-- <button onclick="trainModel()">Train Generative Model</button> -->
            <input type="text" id="modelName" value="stabilityai/stable-diffusion-2"
                placeholder="Enter model name (e.g., stabilityai/stable-diffusion-2)">
            <input type="text" id="promptInput" value="A happy face"
                placeholder="Enter a prompt (e.g., 'A happy face')">
            <button onclick="generateImage()">Generate Synthetic Image</button>
        </div>

        <!-- Saved Frame Section -->
        <div class="saved-frame-section">
            <h2>Saved Frame</h2>
            <img id="savedFrame" src="" alt="Saved Frame" style="max-width: 100%; display: none;">
        </div>

        <!-- Synthetic Image Section -->
        <div class="synthetic-image-section">
            <h2>Synthetic Image</h2>
            <img id="syntheticImage" src="" alt="Synthetic Image" style="max-width: 100%; display: none;">
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>

</html>